#!/bin/sh
#Synchronize list and default PPM files

PETREPOS=""
PETDOCREPOS=""
PETORDER=""

#Repo list
for line1 in `cat /root/.packages/database/PET_REPO_LIST`
do

if [ "$PETREPOS" == "" ]; then
PETREPOS="$line1"
else
PETREPOS="$PETREPOS $line1"
fi

done

#Repo database list
for line1 in `cat /root/.packages/database/PET_DB_REPO`
do

if [ "$PETDOCREPOS" == "" ]; then
PETDOCREPOS="$line1"
else
PETDOCREPOS="$PETDOCREPOS $line1"
fi

done

#Repo order list
for line1 in `cat /root/.packages/database/PET_ORDER_LIST`
do

if [ "$PETORDER" == "" ]; then
PETORDER="$line1"
else
PETORDER="$PETORDER $line1"
fi

done


COMPATREPOS=""
COMPATDOCREPOS=""

#Repo list
for line1 in `cat /root/.packages/database/COMPAT_REPO_LIST`
do

if [ "$COMPATREPOS" == "" ]; then
COMPATREPOS="$line1"
else
COMPATREPOS="$COMPATREPOS $line1"
fi

done

#Compat database list
for line1 in `cat /root/.packages/database/COMPAT_DB_REPO`
do

if [ "$COMPATDOCREPOS" == "" ]; then
COMPATDOCREPOS="$line1"
else
COMPATDOCREPOS="$COMPATDOCREPOS $line1"
fi

done

echo "#Automatically generated by sync-repo" > /root/.packages/DISTRO_PET_REPOS
echo "PKG_DOCS_PET_REPOS=\"$PETDOCREPOS\"" >> /root/.packages/DISTRO_PET_REPOS
echo "PET_REPOS='$PETREPOS'" >> /root/.packages/DISTRO_PET_REPOS
echo "PACKAGELISTS_PET_ORDER=\"$PETORDER\"" >> /root/.packages/DISTRO_PET_REPOS

echo "#Automatically generated by sync-repo" > /root/.packages/DISTRO_COMPAT_REPOS
echo "PKG_DOCS_DISTRO_COMPAT='$COMPATDOCREPOS'" >> /root/.packages/DISTRO_COMPAT_REPOS
echo "REPOS_DISTRO_COMPAT='$COMPATREPOS'" >> /root/.packages/DISTRO_COMPAT_REPOS
